{"version":3,"file":"disconnected-callback.js","sourceRoot":"","sources":["../../src/component/disconnected-callback.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,uBAAuB,EAAE,MAAM,eAAe,CAAC;AACxD,OAAO,EAAE,QAAQ,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AACxD,OAAO,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAEhD,MAAM,CAAC,MAAM,oBAAoB,GAAG,KAAK,EAAE,MAA4B,EAAE,QAAa,EAAG,EAAE;IAEvF,MAAM,QAAQ,CAAE,MAAM,EAAE,QAAQ,EAAE,sBAAsB,CAAE,CAAC;IAC3D,MAAM,uBAAuB,CAAE,MAAM,EAAE,qBAAqB,CAAE,CAAC;IAC/D,MAAM,cAAc,CAAE,MAAM,CAAE,CAAC;IAE/B,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,MAAe,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;IAEjD,mDAAmD;IACnD,IAAI,MAAM,CAAC,gBAAgB,CAAC,EAAG;QAC3B,MAAM,CAAC,gBAAgB,CAAC,CAAC,OAAO,EAAE,CAAC;QAClC,MAAM,CAAC,gBAAgB,CAAa,GAAG,KAAK,CAAC;KACjD;IAED,QAAQ,CAAE,MAAM,EAAE,QAAQ,EAAE,oBAAoB,CAAE,CAAC;AAEvD,CAAC,CAAC","sourcesContent":["import { ComponentConstructor } from '../declarations';\nimport { addRemoveEventListeners } from '../decorators';\nimport { safeCall, removeTemplate } from '../component';\nimport { IS_DISCONNECTING } from '../constants';\n\nexport const disconnectedCallback = async( target: ComponentConstructor, instance: any ) => {\n\n    await safeCall( target, instance, 'disconnectedCallback' );\n    await addRemoveEventListeners( target, 'removeEventListener' );\n    await removeTemplate( target );\n\n    target.connected = false;\n    ( target as any ).removeAttribute('initialized');\n\n    // Resolve when the component is fully disconnected\n    if( target[IS_DISCONNECTING] ) {\n        target[IS_DISCONNECTING].resolve();\n        (target[IS_DISCONNECTING] as unknown) = false;\n    }\n\n    safeCall( target, instance, 'componentDidUnLoad' );\n\n};"]}